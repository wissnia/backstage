"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[417],{"../plugins/home/src/homePageComponents/StarredEntities/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Content:()=>Content});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),src=__webpack_require__("../plugins/catalog-react/src/index.ts"),catalog_model_src=__webpack_require__("../packages/catalog-model/src/index.ts"),core_plugin_api_src=__webpack_require__("../packages/core-plugin-api/src/index.ts"),core_components_src=__webpack_require__("../packages/core-components/src/index.ts"),Typography=__webpack_require__("../node_modules/@material-ui/core/esm/Typography/Typography.js"),List=__webpack_require__("../node_modules/@material-ui/core/esm/List/List.js"),ListItem=__webpack_require__("../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),ListItemText=__webpack_require__("../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),ListItemSecondaryAction=__webpack_require__("../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),Tooltip=__webpack_require__("../node_modules/@material-ui/core/esm/Tooltip/Tooltip.js"),IconButton=__webpack_require__("../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),Star=__webpack_require__("../node_modules/@material-ui/icons/Star.js"),useAsync=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("../node_modules/react-use/lib/useAsync.js"));const Content=()=>{var ref;const catalogApi=(0,core_plugin_api_src.h_)(src.Ah),catalogEntityRoute=(0,core_plugin_api_src.tg)(src.wi),{starredEntities,toggleStarredEntity}=(0,src.CR)(),entities=(0,useAsync.Z)((async()=>{if(!starredEntities.size)return[];const filter=[...starredEntities].map((ent=>(0,catalog_model_src.of)(ent))).map((ref=>({kind:ref.kind,"metadata.namespace":ref.namespace,"metadata.name":ref.name})));return(await catalogApi.getEntities({filter,fields:["kind","metadata.namespace","metadata.name","metadata.title"]})).items}),[catalogApi,starredEntities]);return 0===starredEntities.size?(0,jsx_runtime.jsx)(Typography.Z,{variant:"body1",children:"You do not have any starred entities yet!"}):entities.loading?(0,jsx_runtime.jsx)(core_components_src.Ex,{}):entities.error?(0,jsx_runtime.jsx)(core_components_src.Gk,{error:entities.error}):(0,jsx_runtime.jsx)(List.Z,{children:null===(ref=entities.value)||void 0===ref?void 0:ref.sort(((a,b)=>(null!==(_title=a.metadata.title)&&void 0!==_title?_title:a.metadata.name).localeCompare(null!==(_title1=b.metadata.title)&&void 0!==_title1?_title1:b.metadata.name))).map((entity=>(0,jsx_runtime.jsxs)(ListItem.Z,{children:[(0,jsx_runtime.jsx)(core_components_src.rU,{to:catalogEntityRoute((0,src.hd)(entity)),children:(0,jsx_runtime.jsx)(ListItemText.Z,{primary:null!==(_title2=entity.metadata.title)&&void 0!==_title2?_title2:entity.metadata.name})}),(0,jsx_runtime.jsx)(ListItemSecondaryAction.Z,{children:(0,jsx_runtime.jsx)(Tooltip.ZP,{title:"Remove from starred",children:(0,jsx_runtime.jsx)(IconButton.Z,{edge:"end","aria-label":"unstar",onClick:()=>toggleStarredEntity(entity),children:(0,jsx_runtime.jsx)(Star.Z,{style:{color:"#f3ba37"}})})})})]},(0,catalog_model_src.eE)(entity))))});var _title,_title1,_title2};try{Content.displayName="Content",Content.__docgenInfo={description:"A component to display a list of starred entities for the user.",displayName:"Content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../plugins/home/src/homePageComponents/StarredEntities/Content.tsx#Content"]={docgenInfo:Content.__docgenInfo,name:"Content",path:"../plugins/home/src/homePageComponents/StarredEntities/Content.tsx#Content"})}catch(__react_docgen_typescript_loader_error){}}}]);